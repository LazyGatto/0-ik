# Конфигурация Voron 0.2 под Klipper

Этот репозиторий содержит переработанный и модульный набор конфигураций Klipper
для принтера Voron 0.2. Мы храним структуру файлов такую же, как и на принтере,
чтобы удобно синхронизировать рабочие настройки с версией в Git.

## Структура
- `config/printer.cfg` — основной файл, который последовательно подключает все
  остальные модули.
- `config/hardware/` — кинематика, драйверы, нагреватели и прочее «железо».
- `config/macros/` — макросы печати, хоуминга, обслуживания и системных команд.
- `config/tests/` — стресс-тесты и проверочные процедуры.
- `config/features/` — отдельные включаемые возможности Klipper (например, arcs).
- `config/crowsnest.conf`, `config/moonraker.conf` — конфиги сервисов.
- `config/fluidd.cfg`, `config/mainsail.cfg`, `config/V0Display.cfg` — файлы UI,
  которые правятся из веб-интерфейсов и лежат здесь для справки.

## Как использовать
1. Скопируйте содержимое каталога `config/` в `~/printer_data/config/` на
   принтере, подменив символические ссылки, если они используются.
2. Перезапустите Klipper и Moonraker, чтобы они перечитали include’ы.
3. Настройте общие параметры в `config/variables.cfg` (размер стола, парковка,
   длины ретрактов и т.п.).
4. В слайсере подключайте макросы `PRINT_START` и `PRINT_END` в стартовом и
   финальном G-code.

Каталог `_old_config` (если есть) можно использовать как эталон проверенной
конфигурации. После тестов на принтере обновляйте файлы в репозитории, чтобы
он совпадал с рабочим состоянием.

## Калибровка (шпаргалка)
- PID экструдер: `PID_CALIBRATE HEATER=extruder TARGET=240`, затем `SAVE_CONFIG`.
- PID стол: `PID_CALIBRATE HEATER=heater_bed TARGET=60`, затем `SAVE_CONFIG`.
- Z endstop: `G28`, `Z_ENDSTOP_CALIBRATE`, корректировать `TESTZ Z=-0.1` /
  `TESTZ Z=0.1`, затем `ACCEPT` и `SAVE_CONFIG`.
- Input Shaper (ADXL): `SHAPER_CALIBRATE`, затем `SAVE_CONFIG`. При желании
  перенести блок `[input_shaper]` из SAVE_CONFIG в `config/hardware/motion.cfg`.
- SAVE_CONFIG пишет в конец `config/printer.cfg`; финальные значения лучше
  перенести в соответствующие файлы под `config/` и очистить автогенерируемый
  блок, чтобы избежать дублей.
